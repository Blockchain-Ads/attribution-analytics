function e(e,t){return function(){return e.apply(t,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,r=(o=Object.create(null),e=>{const n=t.call(e);return o[n]||(o[n]=n.slice(8,-1).toLowerCase())});var o;const i=e=>(e=e.toLowerCase(),t=>r(t)===e),a=e=>t=>typeof t===e,{isArray:s}=Array,c=a("undefined"),u=i("ArrayBuffer"),l=a("string"),f=a("function"),h=a("number"),d=e=>null!==e&&"object"==typeof e,p=e=>{if("object"!==r(e))return!1;const t=n(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},v=i("Date"),g=i("File"),m=i("Blob"),b=i("FileList"),y=i("URLSearchParams");function O(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),s(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}const I=(w="undefined"!=typeof Uint8Array&&n(Uint8Array),e=>w&&e instanceof w);var w;const E=i("HTMLFormElement"),C=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),_=i("RegExp"),S=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};O(n,(n,o)=>{!1!==t(n,o,e)&&(r[o]=n)}),Object.defineProperties(e,r)};var A={isArray:s,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&f(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const n="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||t.call(e)===n||f(e.toString)&&e.toString()===n)},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer),t},isString:l,isNumber:h,isBoolean:e=>!0===e||!1===e,isObject:d,isPlainObject:p,isUndefined:c,isDate:v,isFile:g,isBlob:m,isRegExp:_,isFunction:f,isStream:e=>d(e)&&f(e.pipe),isURLSearchParams:y,isTypedArray:I,isFileList:b,forEach:O,merge:function e(){const t={},n=(n,r)=>{t[r]=p(t[r])&&p(n)?e(t[r],n):p(n)?e({},n):s(n)?n.slice():n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&O(arguments[e],n);return t},extend:(t,n,r,{allOwnKeys:o}={})=>(O(n,(n,o)=>{t[o]=r&&f(n)?e(n,r):n},{allOwnKeys:o}),t),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,r,o)=>{let i,a,s;const c={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],o&&!o(s,e,t)||c[s]||(t[s]=e[s],c[s]=!0);e=!1!==r&&n(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:r,kindOfTest:i,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length);const r=e.indexOf(t,n-=t.length);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(s(e))return e;let t=e.length;if(!h(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:E,hasOwnProperty:C,hasOwnProp:C,reduceDescriptors:S,freezeMethods:e=>{S(e,(t,n)=>{f(e[n])&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return s(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t)};function T(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}A.inherits(T,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const k=T.prototype,N={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{N[e]={value:e}}),Object.defineProperties(T,N),Object.defineProperty(k,"isAxiosError",{value:!0}),T.from=(e,t,n,r,o,i)=>{const a=Object.create(k);return A.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),T.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};var j="object"==typeof self?self.FormData:window.FormData;function D(e){return A.isPlainObject(e)||A.isArray(e)}function R(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function P(e,t,n){return e?e.concat(t).map(function(e,t){return e=R(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const U=A.toFlatObject(A,{},null,function(e){return/^is[A-Z]/.test(e)});function x(e,t,n){if(!A.isObject(e))throw new TypeError("target must be an object");t=t||new(j||FormData);const r=(n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!A.isUndefined(t[e])})).metaTokens,o=n.visitor||l,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&(c=t)&&A.isFunction(c.append)&&"FormData"===c[Symbol.toStringTag]&&c[Symbol.iterator];var c;if(!A.isFunction(o))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(A.isDate(e))return e.toISOString();if(!s&&A.isBlob(e))throw new T("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(e)||A.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(A.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(A.isArray(e)&&function(e){return A.isArray(e)&&!e.some(D)}(e)||A.isFileList(e)||A.endsWith(n,"[]")&&(s=A.toArray(e)))return n=R(n),s.forEach(function(e,r){!A.isUndefined(e)&&null!==e&&t.append(!0===a?P([n],r,i):null===a?n:n+"[]",u(e))}),!1;return!!D(e)||(t.append(P(o,n,i),u(e)),!1)}const f=[],h=Object.assign(U,{defaultVisitor:l,convertValue:u,isVisitable:D});if(!A.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!A.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),A.forEach(n,function(n,i){!0===(!(A.isUndefined(n)||null===n)&&o.call(t,n,A.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])}),f.pop()}}(e),t}function L(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function F(e,t){this._pairs=[],e&&x(e,this,t)}const B=F.prototype;function M(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function V(e,t,n){if(!t)return e;const r=n&&n.encode||M,o=n&&n.serialize;let i;if(i=o?o(t,n):A.isURLSearchParams(t)?t.toString():new F(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}B.append=function(e,t){this._pairs.push([e,t])},B.toString=function(e){const t=e?function(t){return e.call(this,t,L)}:L;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class G{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){A.forEach(this.handlers,function(t){null!==t&&e(t)})}}var H={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},W="undefined"!=typeof URLSearchParams?URLSearchParams:F,z=FormData;const J=(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&"undefined"!=typeof window&&"undefined"!=typeof document})();var q={isBrowser:!0,classes:{URLSearchParams:W,FormData:z,Blob:Blob},isStandardBrowserEnv:J,protocols:["http","https","file","blob","url","data"]};function K(e){function t(e,n,r,o){let i=e[o++];const a=Number.isFinite(+i),s=o>=e.length;return i=!i&&A.isArray(r)?r.length:i,s?(r[i]=A.hasOwnProp(r,i)?[r[i],n]:n,!a):(r[i]&&A.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&A.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a)}if(A.isFormData(e)&&A.isFunction(e.entries)){const n={};return A.forEachEntry(e,(e,r)=>{t(function(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null}var X=q.isStandardBrowserEnv?{write:function(e,t,n,r,o,i){const a=[];a.push(e+"="+encodeURIComponent(t)),A.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),A.isString(r)&&a.push("path="+r),A.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function $(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Y=q.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=A.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Q(e,t,n){T.call(this,null==e?"canceled":e,T.ERR_CANCELED,t,n),this.name="CanceledError"}A.inherits(Q,T,{__CANCEL__:!0});const Z=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ee=Symbol("internals"),te=Symbol("defaults");function ne(e){return e&&String(e).trim().toLowerCase()}function re(e){return!1===e||null==e?e:A.isArray(e)?e.map(re):String(e)}function oe(e,t,n,r){return A.isFunction(r)?r.call(this,t,n):A.isString(t)?A.isString(r)?-1!==t.indexOf(r):A.isRegExp(r)?r.test(t):void 0:void 0}function ie(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}function ae(e,t){e&&this.set(e),this[te]=t||null}function se(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),u=r[a];o||(o=c),n[i]=s,r[i]=c;let l=a,f=0;for(;l!==i;)f+=n[l++],l%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const h=u&&c-u;return h?Math.round(1e3*f/h):void 0}}(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-n,c=r(s);n=i;const u={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&i<=a?(a-i)/c:void 0};u[t?"download":"upload"]=!0,e(u)}}function ce(e){return new Promise(function(t,n){let r=e.data;const o=ae.from(e.headers).normalize(),i=e.responseType;let a;function s(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}A.isFormData(r)&&q.isStandardBrowserEnv&&o.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+n))}const u=$(e.baseURL,e.url);function l(){if(!c)return;const r=ae.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new T("Request failed with status code "+n.status,[T.ERR_BAD_REQUEST,T.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}(function(e){t(e),s()},function(e){n(e),s()},{data:i&&"text"!==i&&"json"!==i?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),V(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=l:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(l)},c.onabort=function(){c&&(n(new T("Request aborted",T.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new T("Network Error",T.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new T(t,(e.transitional||H).clarifyTimeoutError?T.ETIMEDOUT:T.ECONNABORTED,e,c)),c=null},q.isStandardBrowserEnv){const t=(e.withCredentials||Y(u))&&e.xsrfCookieName&&X.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===r&&o.setContentType(null),"setRequestHeader"in c&&A.forEach(o.toJSON(),function(e,t){c.setRequestHeader(t,e)}),A.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),i&&"json"!==i&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",se(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",se(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{c&&(n(!t||t.type?new Q(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u);f&&-1===q.protocols.indexOf(f)?n(new T("Unsupported protocol "+f+":",T.ERR_BAD_REQUEST,e)):c.send(r||null)})}Object.assign(ae.prototype,{set:function(e,t,n){const r=this;function o(e,t,n){const o=ne(t);if(!o)throw new Error("header name must be a non-empty string");const i=ie(r,o);(!i||!0===n||!1!==r[i]&&!1!==n)&&(r[i||t]=re(e))}return A.isPlainObject(e)?A.forEach(e,(e,n)=>{o(e,n,t)}):o(t,e,n),this},get:function(e,t){if(!(e=ne(e)))return;const n=ie(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(A.isFunction(t))return t.call(this,e,n);if(A.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}},has:function(e,t){if(e=ne(e)){const n=ie(this,e);return!(!n||t&&!oe(0,this[n],n,t))}return!1},delete:function(e,t){const n=this;let r=!1;function o(e){if(e=ne(e)){const o=ie(n,e);!o||t&&!oe(0,n[o],o,t)||(delete n[o],r=!0)}}return A.isArray(e)?e.forEach(o):o(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){const t=this,n={};return A.forEach(this,(r,o)=>{const i=ie(n,o);if(i)return t[i]=re(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();a!==o&&delete t[o],t[a]=re(r),n[a]=!0}),this},toJSON:function(e){const t=Object.create(null);return A.forEach(Object.assign({},this[te]||null,this),(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&A.isArray(n)?n.join(", "):n)}),t}}),Object.assign(ae,{from:function(e){return A.isString(e)?new this((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&Z[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e)):e instanceof this?e:new this(e)},accessor:function(e){const t=(this[ee]=this[ee]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ne(e);t[r]||(function(e,t){const n=A.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return A.isArray(e)?e.forEach(r):r(e),this}}),ae.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),A.freezeMethods(ae.prototype),A.freezeMethods(ae);const ue={http:ce,xhr:ce};var le=e=>{if(A.isString(e)){const t=ue[e];if(!e)throw Error(A.hasOwnProp(e)?`Adapter '${e}' is not available in the build`:`Can not resolve adapter '${e}'`);return t}if(!A.isFunction(e))throw new TypeError("adapter is not a function");return e};const fe={"Content-Type":"application/x-www-form-urlencoded"},he={transitional:H,adapter:function(){let e;return"undefined"!=typeof XMLHttpRequest?e=le("xhr"):"undefined"!=typeof process&&"process"===A.kindOf(process)&&(e=le("http")),e}(),transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=A.isObject(e);if(o&&A.isHTMLForm(e)&&(e=new FormData(e)),A.isFormData(e))return r&&r?JSON.stringify(K(e)):e;if(A.isArrayBuffer(e)||A.isBuffer(e)||A.isStream(e)||A.isFile(e)||A.isBlob(e))return e;if(A.isArrayBufferView(e))return e.buffer;if(A.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return x(e,new q.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return q.isNode&&A.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=A.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return x(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(A.isString(e))try{return(0,JSON.parse)(e),A.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||he.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&A.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw T.from(e,T.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:q.classes.FormData,Blob:q.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};function de(e,t){const n=this||he,r=t||n,o=ae.from(r.headers);let i=r.data;return A.forEach(e,function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function pe(e){return!(!e||!e.__CANCEL__)}function ve(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Q}function ge(e){return ve(e),e.headers=ae.from(e.headers),e.data=de.call(e,e.transformRequest),(e.adapter||he.adapter)(e).then(function(t){return ve(e),t.data=de.call(e,e.transformResponse,t),t.headers=ae.from(t.headers),t},function(t){return pe(t)||(ve(e),t&&t.response&&(t.response.data=de.call(e,e.transformResponse,t.response),t.response.headers=ae.from(t.response.headers))),Promise.reject(t)})}function me(e,t){t=t||{};const n={};function r(e,t){return A.isPlainObject(e)&&A.isPlainObject(t)?A.merge(e,t):A.isPlainObject(t)?A.merge({},t):A.isArray(t)?t.slice():t}function o(n){return A.isUndefined(t[n])?A.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function i(e){if(!A.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return A.isUndefined(t[n])?A.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return A.forEach(Object.keys(e).concat(Object.keys(t)),function(e){const t=c[e]||o,r=t(e);A.isUndefined(r)&&t!==s||(n[e]=r)}),n}A.forEach(["delete","get","head"],function(e){he.headers[e]={}}),A.forEach(["post","put","patch"],function(e){he.headers[e]=A.merge(fe)});const be={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{be[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ye={};be.transitional=function(e,t,n){function r(e,t){return"[Axios v1.1.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new T(r(o," has been removed"+(t?" in "+t:"")),T.ERR_DEPRECATED);return t&&!ye[o]&&(ye[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var Oe={assertOptions:function(e,t,n){if("object"!=typeof e)throw new T("options must be an object",T.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new T("option "+i+" must be "+n,T.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new T("Unknown option "+i,T.ERR_BAD_OPTION)}},validators:be};const Ie=Oe.validators;class we{constructor(e){this.defaults=e,this.interceptors={request:new G,response:new G}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=me(this.defaults,t);const{transitional:n,paramsSerializer:r}=t;void 0!==n&&Oe.assertOptions(n,{silentJSONParsing:Ie.transitional(Ie.boolean),forcedJSONParsing:Ie.transitional(Ie.boolean),clarifyTimeoutError:Ie.transitional(Ie.boolean)},!1),void 0!==r&&Oe.assertOptions(r,{encode:Ie.function,serialize:Ie.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();const o=t.headers&&A.merge(t.headers.common,t.headers[t.method]);o&&A.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),t.headers=new ae(t.headers,o);const i=[];let a=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const s=[];let c;this.interceptors.response.forEach(function(e){s.push(e.fulfilled,e.rejected)});let u,l=0;if(!a){const e=[ge.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,s),u=e.length,c=Promise.resolve(t);l<u;)c=c.then(e[l++],e[l++]);return c}u=i.length;let f=t;for(l=0;l<u;){const e=i[l++],t=i[l++];try{f=e(f)}catch(e){t.call(this,e);break}}try{c=ge.call(this,f)}catch(e){return Promise.reject(e)}for(l=0,u=s.length;l<u;)c=c.then(s[l++],s[l++]);return c}getUri(e){return V($((e=me(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}A.forEach(["delete","get","head","options"],function(e){we.prototype[e]=function(t,n){return this.request(me(n||{},{method:e,url:t,data:(n||{}).data}))}}),A.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(me(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}we.prototype[e]=t(),we.prototype[e+"Form"]=t(!0)});class Ee{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new Q(e,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ee(function(t){e=t}),cancel:e}}}const Ce=function t(n){const r=new we(n),o=e(we.prototype.request,r);return A.extend(o,we.prototype,r,{allOwnKeys:!0}),A.extend(o,r,null,{allOwnKeys:!0}),o.create=function(e){return t(me(n,e))},o}(he);function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}Ce.Axios=we,Ce.CanceledError=Q,Ce.CancelToken=Ee,Ce.isCancel=pe,Ce.VERSION="1.1.3",Ce.toFormData=x,Ce.AxiosError=T,Ce.Cancel=Ce.CanceledError,Ce.all=function(e){return Promise.all(e)},Ce.spread=function(e){return function(t){return e.apply(null,t)}},Ce.isAxiosError=function(e){return A.isObject(e)&&!0===e.isAxiosError},Ce.formToJSON=e=>K(A.isHTMLForm(e)?new FormData(e):e);var Se=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=_e({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=t.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",_e({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,_e({},this.attributes,t))},withConverter:function(t){return e(_e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.b=function(e,t){var n=!0;return E(e,function(e){return n=n&&t(e)}),n},t.s=p,t.t=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g(console.warn,e,"WARNING",n)},t.r=v,t.w=function(e){d=!!e},t.m=m,t.n=function(){return f},t.h=y,t.l=O,t.q=I,t.i=w,t.o=function(e){return y(e,a)},t.p=function(e){return y(e,s)},t.j=function(e){return y(e,c)},t.k=function(e){return void 0!==e},t.g=function(e){return(e=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)"))?decodeURIComponent(e[2]):null},t.v=function(e,t,n){document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(""!==n?"; expires=".concat(n):"","; path=/")},t.a=function(e,t,n){var a,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var c=s.method||(n?"POST":"GET");document.createElement("a").href=e;var u,l="object"===o(t)&&null!==t?t:{success:function(){p("ajax","xhr success")},error:function(e){v("ajax","xhr error",null,e)}};"function"==typeof t&&(l.success=t),(a=new window.XMLHttpRequest).onreadystatechange=function(){var e;a.readyState===C&&(200<=(e=a.status)&&e<300||304===e?l.success(a.responseText,a):l.error(a.statusText,a))},a.ontimeout=function(){v("ajax","xhr timeout after ",a.timeout,"ms")},"GET"===c&&n&&(r((u=function(e,t){var n=document.createElement("a");return n.href=t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?e:decodeURIComponent(e),t=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString,{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:t?n.search:function(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("=");return t=2,n=function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(n,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=n[0],n=n[1],/\[\]$/.test(t)?(e[t=t.replace("[]","")]=e[t]||[],e[t].push(n)):e[t]=n||"",e},{}):{}}(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}(e,s)).search,n),e=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(function(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(e[t])}).join("&")}(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}(u)),a.open(c,e,!0),s.withCredentials&&(a.withCredentials=!0),E(s.customHeaders,function(e,t){a.setRequestHeader(t,e)}),s.preflight&&a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type",s.contentType||"text/plain"),"POST"===c&&n?a.send(n):a.send()}catch(e){v("ajax","xhr construction",e)}},t.d=function(e,t,n){"loading"!==document.readyState?_(e,t,n):document.addEventListener("DOMContentLoaded",function(){_(e,t,n)})},t.c=function(e){for(var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=function(e,t){if(O(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},o=3735928559^n,i=1103547991^n,a=0;a<e.length;a++)o=r(o^(t=e.charCodeAt(a)),2654435761),i=r(i^t,1597334677);return o=r(o^o>>>16,2246822507)^r(i^i>>>13,3266489909),(4294967296*(2097151&(i=r(i^i>>>16,2246822507)^r(o^o>>>13,3266489909)))+(o>>>0)).toString()},t.f=function(e){var t=/[()-.:;=?_/]/g;return w(e.brands)&&(e.brands=S(e.brands,function(e){return I(e.brand)&&e.brand.search(t)<0})),w(e.fullVersionList)&&(e.fullVersionList=S(e.fullVersionList,function(e){return I(e.brand)&&e.brand.search(t)<0})),e},t.e=function(e,t,n,r,o){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:o;return e===o?n:e},t.u=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r};var a="Number",s="Object",c="Boolean",u=Object.prototype.toString,l="TRUE"===b("id5_debug").toUpperCase(),f="TRACE"===b("id5_debug").toUpperCase(),h=Boolean(window.console),d=!1;function p(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g(console.info,e,"INFO",n)}function v(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g(console.error,e,"ERROR",n)}function g(e,t,n,r){m()&&h&&e&&e.apply(console,["%cID5 - #".concat(t),"color: #fff; background: #1c307e; padding: 1px 4px; border-radius: 3px;",n].concat(r))}function m(){return l||f||d}function b(e){return null===(e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search))?"":decodeURIComponent(e[1].replace(/\+/g," "))}function y(e,t){return u.call(e)==="[object "+t+"]"}function O(e){return y(e,"Function")}function I(e){return y(e,"String")}function w(e){return y(e,"Array")}function E(e,t){if(!function(e){if(!e)return 1;if(w(e)||I(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return;return 1}(e)){if(O(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(0<r)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}var C=4;function _(e,t,n){var r=new Image;r.src=e,O(t)&&t(),O(n)&&(r.complete?n():r.addEventListener("load",n))}function S(e,t){var n=[];return E(e,function(e){t(e)&&n.push(e)}),n}},function(e,t){e.exports={STORAGE_CONFIG:{ID5:{name:"id5id",expiresDays:90},LAST:{name:"id5id_last",expiresDays:90},CONSENT_DATA:{name:"id5id_cached_consent_data",expiresDays:30},PD:{name:"id5id_cached_pd",expiresDays:30},SEGMENTS:{name:"id5id_cached_segments",expiresDays:30},PRIVACY:{name:"id5id_privacy",expiresDays:30},LIVE_INTENT:{name:"id5li",expiresDays:90}},LEGACY_COOKIE_NAMES:["id5.1st","id5id.1st"],PRIVACY:{JURISDICTIONS:{gdpr:!0,ccpa:!1,lgpd:!0,other:!1}},ID5_EIDS_SOURCE:"id5-sync.com",LIVE_INTENT_POLL_INTERVAL_MS:500}},function(e,t,n){n.d(t,"a",function(){return v}),n.d(t,"b",function(){return g});var r=n(0),o=(t=n(1),n.n(t)),i=(n(3),["vendorData","ccpaString"]);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={tcfv1:{objName:"__cmpCall",objKeys:["command","parameter"],returnObjName:"__cmpReturn"},tcfv2:{objName:"__tcfapiCall",objKeys:["command","version"],returnObjName:"__tcfapiReturn"},uspv1:{objName:"__uspapiCall",objKeys:["command","version"],returnObjName:"__uspapiReturn"}},h=Object.freeze({NONE:"none",TCF_V1:"TCFv1",TCF_V2:"TCFv2",USP_V1:"USPv1",ID5_ALLOWED_VENDORS:"ID5"}),d=Object.freeze({FORCE_ALLOWED_BY_CONFIG:"force_allowed_by_config",ID5_CONSENT:"id5_consent",PROVISIONAL:"provisional",JURISDICTION:"jurisdiction",CONSENT_API:"consent_api"}),p=function(){function e(t,n,r){s(this,e),l(this,"allowed",!1),l(this,"grantType",d.NONE),l(this,"api",h.NONE),this.allowed=t,this.grantType=n,this.api=r}return u(e,[{key:"isDefinitivelyAllowed",value:function(){return this.allowed&&this.grantType!==d.PROVISIONAL}}]),e}(),v=function(){function e(){s(this,e),l(this,"api",h.NONE),l(this,"consentString",void 0),l(this,"gdprApplies",!1),l(this,"vendorData",{}),l(this,"allowedVendors",void 0),l(this,"hasCcpaString",!1),l(this,"ccpaString","")}return u(e,[{key:"localStorageGrant",value:function(){return new p(this.isGranted(),d.CONSENT_API,this.api)}},{key:"isGranted",value:function(){switch(this.api){case h.NONE:return!0;case h.TCF_V1:return!this.gdprApplies||!0===Object(r.e)(this,"vendorData.purposeConsents.1");case h.TCF_V2:return!this.gdprApplies||!0===Object(r.e)(this,"vendorData.purpose.consents.1");case h.ID5_ALLOWED_VENDORS:return this.allowedVendors.includes("131");case h.USP_V1:return!0}}},{key:"hashCode",value:function(){var e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)0<=t.indexOf(n=i[r])||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)0<=t.indexOf(n=o[i])||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(this,i);return Object(r.c)(JSON.stringify(e))}}]),e}(),g=function(){function e(t,n,r){s(this,e),l(this,"invocationId",void 0),l(this,"consentData",void 0),l(this,"storedPrivacyData",void 0),l(this,"localStorage",void 0),l(this,"_consentRequested",!1),this.invocationId=t,this.localStorage=n,this.storageConfig=r,this.resetConsentData()}return u(e,[{key:"requestConsent",value:function(e,t,n,o){if(e)this.consentData=new v,Object(r.t)(this.invocationId,"cmpApi: ID5 is operating in forced consent mode and will not retrieve any consent signals from the CMP"),o(this.consentData);else if(this._consentRequested)o(this.consentData);else switch(this.consentData=new v,this._consentRequested=!0,t){case"static":this.parseStaticConsentData(n,o);break;case"iab":this.lookupIabConsent(o);break;default:Object(r.r)(this.invocationId,"cmpApi: Unknown consent API: ".concat(t)),this.resetConsentData(),o(this.consentData)}}},{key:"getOrCreateConsentData",value:function(){return this.consentData||(this.consentData=new v),this.consentData}},{key:"parseStaticConsentData",value:function(t,n){t=t||{};var o={};Object(r.p)(t.getConsentData)?o=e.parseTcfData(t,1):Object(r.p)(t.getTCData)?o=e.parseTcfData(t.getTCData,2):Object(r.i)(t.allowedVendors)?o={api:h.ID5_ALLOWED_VENDORS,allowedVendors:t.allowedVendors.map(function(e){return String(e)}),gdprApplies:!0}:Object(r.p)(t.getUSPData)?o=e.parseUspData(t.getUSPData):Object(r.t)(this.invocationId,"cmpApi: No static consent data detected! Using defaults."),a(this.consentData,o),Object(r.s)(this.invocationId,"cmpApi: Detected API '".concat(this.consentData.api,"' from static consent data"),t),n(this.consentData)}},{key:"lookupIabConsent",value:function(e){var t=this,n=[],r=function(r){return n[r]=!1,function(o){n[r]||(n[r]=!0,o&&a(t.consentData,o),n.every(function(e){return e})&&e(t.consentData))}},o=r(0);r=r(1),this.lookupTcf(o),this.lookupUsp(r)}},{key:"lookupUsp",value:function(t){var n=this,o=(i=e.findUsp()).uspapiFrame,i=i.uspapiFunction;if(!o)return Object(r.t)(this.invocationId,"cmpApi: USP not found! Using defaults for CCPA."),void t();(Object(r.l)(i)?(Object(r.s)(this.invocationId,"cmpApi: Detected USP is directly accessible, calling it now."),i):(Object(r.s)(this.invocationId,"cmpApi: Detected USP is outside the current iframe. Using message passing."),e.buildCmpSurrogate("uspv1",o)))("getUSPData",1,function(o,i){i?t(e.parseUspData(o)):(Object(r.r)(n.invocationId,"cmpApi: USP callback not succesful. Using defaults for CCPA."),t())})}},{key:"lookupTcf",value:function(t){var n=(i=e.findTCF()).cmpVersion,o=i.cmpFrame,i=i.cmpFunction;if(!o)return Object(r.t)(this.invocationId,"cmpApi: TCF not found! Using defaults for GDPR."),void t();Object(r.l)(i)?this.lookupDirectTcf(n,i,t):(Object(r.s)(this.invocationId,"cmpApi: Detected TCF is outside the current iframe. Using message passing."),this.lookupMessageTcf(n,o,t))}},{key:"lookupMessageTcf",value:function(t,n,r){n=e.buildCmpSurrogate(1===t?"tcfv1":"tcfv2",n),this.lookupDirectTcf(t,n,r)}},{key:"lookupDirectTcf",value:function(t,n,o){function i(e,t,n){Object(r.s)(c.invocationId,"cmpApi: TCFv".concat(e," - Received a call back: ").concat(t),n)}function a(e,t){Object(r.r)(c.invocationId,"cmpApi: TCFv".concat(e," - Received insuccess: ").concat(t,". Please check your CMP setup. Using defaults for GDPR."))}var s,c=this,u={},l={},f=function(t){return l[t]=!1,function(n,r){l[t]=!0,r?(i(1,t,n),u[t]=n):a(1,t),Object.values(l).every(function(e){return e})&&o(e.parseTcfData(u,1))}};1===t?(s=f("getConsentData"),f=f("getVendorConsents"),n("getConsentData",null,s),n("getVendorConsents",null,f)):2===t&&n("addEventListener",t,function(t,n){if(i(2,"event",t),!n)return a(2,"addEventListener"),void o();!t||!1!==t.gdprApplies&&"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||o(e.parseTcfData(t,2))})}},{key:"resetConsentData",value:function(){this.consentData=void 0,this.storedPrivacyData=void 0,this._consentRequested=!1}},{key:"localStorageGrant",value:function(e,t){return!0===e||!0===t?(Object(r.t)(this.invocationId,"cmpApi: Local storage access granted by configuration override, consent will not be checked"),new p(!0,d.FORCE_ALLOWED_BY_CONFIG,h.NONE)):this.consentData&&this.consentData.api!==h.NONE?this.consentData.localStorageGrant():(Object(r.p)(this.storedPrivacyData)||(n=this.localStorage.getItemWithExpiration(this.storageConfig.PRIVACY),this.storedPrivacyData=n&&JSON.parse(n),Object(r.s)(this.invocationId,"cmpApi: Loaded stored privacy data from local storage",this.storedPrivacyData)),this.storedPrivacyData&&!0===this.storedPrivacyData.id5_consent?new p(!0,d.ID5_CONSENT,h.NONE):this.storedPrivacyData&&Object(r.k)(this.storedPrivacyData.jurisdiction)?new p(!1===(n=(n=this.storedPrivacyData.jurisdiction)in o.a.PRIVACY.JURISDICTIONS&&o.a.PRIVACY.JURISDICTIONS[n]),d.JURISDICTION,h.NONE):new p(!0,d.PROVISIONAL,h.NONE));var n}},{key:"setStoredPrivacy",value:function(e){try{Object(r.p)(e)?(this.storedPrivacyData=e,this.localStorage.setItemWithExpiration(this.storageConfig.PRIVACY,JSON.stringify(e))):Object(r.r)(this.invocationId,"cmpApi: Cannot store privacy data if it is not an object",e)}catch(e){Object(r.r)(this.invocationId,"cmpApi: Error while storing privacy data",e)}}}],[{key:"buildCmpSurrogate",value:function(e,t){return function(n,o,i){var a=Math.random()+"",s=f[e],c={},u={};u[s.objKeys[0]]=n,u[s.objKeys[1]]=o,u.callId=a,c[s.objName]=u,u=function e(t){(t=Object(r.e)(t,"data.".concat(s.returnObjName)))&&t.callId===a&&(window.removeEventListener("message",e),i(t.returnValue,t.success))},window.addEventListener("message",u,!1),t.postMessage(c,"*")}}},{key:"parseUspData",value:function(e){if(Object(r.p)(e)&&Object(r.q)(e.uspString))return{api:h.USP_V1,hasCcpaString:!0,ccpaString:e.uspString};Object(r.r)(this.invocationId,"cmpApi: No or malformed USP data. Using defaults for CCPA.")}},{key:"parseTcfData",value:function(t,n){var o,i;if(1===n)o=e.isValidV1ConsentObject,i=e.normalizeV1Data;else{if(2!==n)return void Object(r.r)(this.invocationId,"cmpApi: No or malformed CMP data. Using defaults for GDPR.");o=e.isValidV2ConsentObject,i=e.normalizeV2Data}if(o(t))return i(t);Object(r.r)(this.invocationId,"cmpApi: Invalid CMP data. Using defaults for GDPR.",t)}},{key:"isValidV1ConsentObject",value:function(e){var t=Object(r.e)(e,"getConsentData.gdprApplies");return!!Object(r.j)(t)&&(!1===t||Object(r.q)(e.getConsentData.consentData)&&Object(r.p)(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length)}},{key:"isValidV2ConsentObject",value:function(e){var t=e&&e.gdprApplies;return e=e&&e.tcString,!!Object(r.j)(t)&&(!1===t||Object(r.q)(e))}},{key:"normalizeV1Data",value:function(e){return{consentString:e.getConsentData.consentData,vendorData:e.getVendorConsents,gdprApplies:e.getConsentData.gdprApplies,api:h.TCF_V1}}},{key:"normalizeV2Data",value:function(e){return{consentString:e.tcString,vendorData:e,gdprApplies:e.gdprApplies,api:h.TCF_V2}}},{key:"findTCF",value:function(){for(var e,t,n=0,r=window;!e;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){t="function"==typeof r.__tcfapi?(n=2,r.__tcfapi):(n=1,r.__cmp),e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){n=2,e=r;break}}catch(e){}try{if(r.frames.__cmpLocator){n=1,e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpVersion:n,cmpFrame:e,cmpFunction:t}}},{key:"findUsp",value:function(){for(var e,t,n=window;!e;){try{if("function"==typeof n.__uspapi){t=n.__uspapi,e=n;break}}catch(e){}try{if(n.frames.__uspapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{uspapiFrame:e,uspapiFunction:t}}}]),e}()},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return i});var o="_exp",i=function(){function e(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"available",!1),r(this,"win",void 0),r(this,"writingEnabled",void 0),this.win=t,this.writingEnabled=n,n="__id5test";try{this.writingEnabled&&this.win.localStorage.setItem(n,n),this.win.localStorage.removeItem(n),this.available=!0}catch(t){}}var t;return(t=[{key:"isAvailable",value:function(){return this.available}},{key:"getItem",value:function(e){if(this.available)return this.win.localStorage.getItem(e)}},{key:"setItem",value:function(e,t){this.available&&this.writingEnabled&&this.win.localStorage.setItem(e,t)}},{key:"removeItem",value:function(e){this.available&&this.win.localStorage.removeItem(e)}},{key:"getItemWithExpiration",value:function(e){var t=e.name;return!(e=this.getItem(t+o))||new Date(e).getTime()-Date.now()<=0?(this.removeItemWithExpiration({name:t}),null):this.getItem(t)}},{key:"setItemWithExpiration",value:function(e,t){var n=e.name;e=e.expiresDays,e=Date.now()+864e5*e,e=new Date(e).toUTCString(),this.setItem(n+o,e),this.setItem(n,t)}},{key:"removeItemWithExpiration",value:function(e){this.removeItem(e=e.name),this.removeItem(e+o)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n.d(t,"a",function(){return c});var r=n(0),o=(t=n(1),n.n(t)),i=n(2);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"invocationId",void 0),s(this,"localStorageGrantChecker",void 0),s(this,"localStorage",void 0),this.invocationId=t,this.localStorageGrantChecker=n,this.localStorage=r,this.storageConfig=o}var t,n,c;return t=e,c=[{key:"makeStoredHash",value:function(e){return Object(r.c)("string"==typeof e?e:"")}},{key:"storedDataMatchesCurrentData",value:function(e,t){return null==e||e===t}}],(n=[{key:"get",value:function(e){try{var t=this.localStorageGrant();if(t.isDefinitivelyAllowed())return this.localStorage.getItemWithExpiration(e);Object(r.t)(this.invocationId,"clientStore.get() has been called without definitive grant",t)}catch(e){Object(r.r)(this.invocationId,e)}}},{key:"clear",value:function(e){try{this.localStorage.removeItemWithExpiration(e)}catch(e){Object(r.r)(this.invocationId,e)}}},{key:"put",value:function(e,t){try{var n=this.localStorageGrant();n.isDefinitivelyAllowed()?this.localStorage.setItemWithExpiration(e,t):Object(r.t)(this.invocationId,"clientStore.put() has been called without definitive grant",n)}catch(e){Object(r.r)(this.invocationId,e)}}},{key:"localStorageGrant",value:function(){return this.localStorageGrantChecker()}},{key:"isLocalStorageAvailable",value:function(){return this.localStorage.isAvailable()}},{key:"getResponseFromLegacyCookie",value:function(){var e;return o.a.LEGACY_COOKIE_NAMES.forEach(function(t){Object(r.g)(t)&&(e=Object(r.g)(t))}),e?JSON.parse(e):null}},{key:"getResponse",value:function(){var e=this.get(this.storageConfig.ID5);return e&&JSON.parse(decodeURIComponent(e))}},{key:"clearResponse",value:function(){this.clear(this.storageConfig.ID5)}},{key:"putResponse",value:function(e){this.put(this.storageConfig.ID5,encodeURIComponent(e))}},{key:"getHashedConsentData",value:function(){return this.get(this.storageConfig.CONSENT_DATA)}},{key:"clearHashedConsentData",value:function(){this.clear(this.storageConfig.CONSENT_DATA)}},{key:"putHashedConsentData",value:function(e){e!==new i.a&&this.put(this.storageConfig.CONSENT_DATA,e.hashCode())}},{key:"getHashedPd",value:function(e){return this.get(this.pdCacheConfig(e))}},{key:"storedPdMatchesPd",value:function(t,n){return e.storedDataMatchesCurrentData(this.getHashedPd(t),e.makeStoredHash(n))}},{key:"clearHashedPd",value:function(e){this.clear(this.pdCacheConfig(e))}},{key:"putHashedPd",value:function(t,n){this.put(this.pdCacheConfig(t),e.makeStoredHash(n))}},{key:"getHashedSegments",value:function(e){return this.get(this.segmentsCacheConfig(e))}},{key:"putHashedSegments",value:function(t,n){this.put(this.segmentsCacheConfig(t),e.makeStoredHash(JSON.stringify(n)))}},{key:"storedSegmentsMatchesSegments",value:function(t,n){return e.storedDataMatchesCurrentData(this.getHashedSegments(t),e.makeStoredHash(JSON.stringify(n)))}},{key:"clearHashedSegments",value:function(e){this.clear(this.segmentsCacheConfig(e))}},{key:"getDateTime",value:function(){return new Date(this.get(this.storageConfig.LAST)).getTime()}},{key:"clearDateTime",value:function(){this.clear(this.storageConfig.LAST)}},{key:"setDateTime",value:function(e){this.put(this.storageConfig.LAST,e)}},{key:"getNb",value:function(e){return(e=this.get(this.nbCacheConfig(e)))?parseInt(e):0}},{key:"clearNb",value:function(e){this.clear(this.nbCacheConfig(e))}},{key:"setNb",value:function(e,t){this.put(this.nbCacheConfig(e),t)}},{key:"incNb",value:function(e,t){return this.setNb(e,++t),t}},{key:"pdCacheConfig",value:function(e){return this.storageConfig.PD.withNameSuffixed(e)}},{key:"nbCacheConfig",value:function(e){return this.storageConfig.ID5.withNameSuffixed(e,"nb")}},{key:"segmentsCacheConfig",value:function(e){return this.storageConfig.SEGMENTS.withNameSuffixed(e)}},{key:"clearAll",value:function(e){this.clearResponse(),this.clearDateTime(),this.clearNb(e),this.clearHashedPd(e),this.clearHashedSegments(e),this.clearHashedConsentData()}},{key:"removeLegacyCookies",value:function(e){var t=new Date(Date.now()-1e3).toUTCString();o.a.LEGACY_COOKIE_NAMES.forEach(function(n){Object(r.v)("".concat(n),"",t),Object(r.v)("".concat(n,"_nb"),"",t),Object(r.v)("".concat(n,"_").concat(e,"_nb"),"",t),Object(r.v)("".concat(n,"_last"),"",t),Object(r.v)("".concat(n,".cached_pd"),"",t),Object(r.v)("".concat(n,".cached_consent_data"),"",t)})}},{key:"storedConsentDataMatchesConsentData",value:function(t){return e.storedDataMatchesCurrentData(this.getHashedConsentData(),t.hashCode())}}])&&a(t.prototype,n),c&&a(t,c),e}()},function(e,t,n){n.d(t,"a",function(){return f});var r=n(0),o=n(1);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.n(o);var u=function(){function e(t,n){a(this,e),this.name=t,this.expiresDays=n}return c(e,[{key:"withNameSuffixed",value:function(){for(var t=this.name,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(var i=0,a=r;i<a.length;i++){var s=a[i];t+="_".concat(s)}return new e(t,this.expiresDays)}}]),e}(),l=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;function n(e){var n=void 0!==t?Math.max(1,t):e.expiresDays;return new u(e.name,n)}a(this,e);var r=o.STORAGE_CONFIG;this.ID5=n(r.ID5),this.LAST=n(r.LAST),this.CONSENT_DATA=n(r.CONSENT_DATA),this.PD=n(r.PD),this.PRIVACY=n(r.PRIVACY),this.SEGMENTS=n(r.SEGMENTS),this.LIVE_INTENT=n(r.LIVE_INTENT)},f=function(){function e(t,n){if(a(this,e),i(this,"invocationId",void 0),i(this,"options",void 0),i(this,"providedOptions",void 0),i(this,"invalidSegments",void 0),this.invocationId=t,this.options={debugBypassConsent:!1,allowLocalStorageWithoutConsentApi:!1,cmpApi:"iab",consentData:{getConsentData:{consentData:void 0,gdprApplies:void 0},getVendorConsents:{}},refreshInSeconds:7200,partnerId:void 0,partnerUserId:void 0,callbackOnAvailable:void 0,callbackOnUpdates:void 0,callbackTimeoutInMs:void 0,pd:void 0,abTesting:{enabled:!1,controlGroupPct:0},provider:void 0,maxCascades:8,applyCreativeRestrictions:!1,segments:void 0,disableUaHints:!1,disableLiveIntentIntegration:!1,storageExpirationDays:void 0},this.providedOptions={},!n.partnerId||"number"!=typeof n.partnerId)throw new Error("partnerId is required and must be a number");this.invalidSegments=0,this.updOptions(n),this.storageConfig=new l(n.storageExpirationDays)}return c(e,[{key:"getOptions",value:function(){return this.options}},{key:"getProvidedOptions",value:function(){return this.providedOptions}},{key:"getInvalidSegments",value:function(){return this.invalidSegments}},{key:"updOptions",value:function(t){var n=this,o=this;if(Object(r.p)(t)){if(Object(r.o)(this.options.partnerId)&&Object(r.o)(t.partnerId)&&t.partnerId!==this.options.partnerId)throw new Error("Cannot update config with a different partnerId");var i=function(e,t){n.options[e]=t,n.providedOptions[e]=t};Object.keys(t).forEach(function(n){var a,s,c;"segments"===n?(c=t[n],a=[],Object(r.i)(c)?(c.forEach(function(e,t){return t="segments[".concat(t,"]"),Object(r.i)(e.ids)&&Object(r.b)(e.ids,r.q)?e.ids.length<1?(Object(r.r)(o.invocationId,"Config option ".concat(t,".ids should contain at least one segment ID")),void(o.invalidSegments+=1)):Object(r.q)(e.destination)?void a.push(e):(h(o.invocationId,"".concat(t,".destination"),"String",e.destination),void(o.invalidSegments+=1)):(h(o.invocationId,"".concat(t,".ids"),"Array of String",e.ids),void(o.invalidSegments+=1))}),i(n,a)):h(o.invocationId,n,"Array",c)):(s=e.configTypes[n],c=t[n],Object(r.h)(c,s)?i(n,c):h(o.invocationId,n,s,c))})}else Object(r.r)(this.invocationId,"Config options must be an object")}}]),e}();function h(e,t,n,o){Object(r.r)(e,"Config option ".concat(t," must be of type ").concat(n," but was ").concat(toString.call(o),". Ignoring..."))}i(f,"configTypes",{debugBypassConsent:"Boolean",allowLocalStorageWithoutConsentApi:"Boolean",cmpApi:"String",consentData:"Object",refreshInSeconds:"Number",partnerId:"Number",partnerUserId:"String",callbackOnAvailable:"Function",callbackOnUpdates:"Function",callbackTimeoutInMs:"Number",pd:"String",abTesting:"Object",provider:"String",maxCascades:"Number",applyCreativeRestrictions:"Boolean",disableUaHints:"Boolean",disableLiveIntentIntegration:"Boolean",storageExpirationDays:"Number"})},function(e,t,n){n.d(t,"a",function(){return a}),t=n(1);var r=n.n(t),o=n(0);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(3);var a=function(){function e(t,n,a,s,c){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"isEnabled",void 0),i(this,"invocationId",void 0),i(this,"localStorage",void 0),i(this,"storageConfig",void 0),i(this,"_windowObj",void 0),i(this,"_handler",void 0),i(this,"_hasLiveIntentId",!1),i(this,"_liveIntentId",void 0),i(this,"_liveIntentIdTimestamp",void 0);var l=this;this._windowObj=t,this.isEnabled=n,this.invocationId=a,this.localStorage=s,this.storageConfig=c,n&&(this._checkLocalStorage(),Object(o.s)(this.invocationId,"Starting polling detection of LiveIntent API"),this._handler=setInterval(function(){Object(o.e)(u._windowObj,"liQ.ready")&&(Object(o.s)(u.invocationId,"Stopping polling detection of LiveIntent API: found"),clearInterval(l._handler),l._onDetected())},r.a.LIVE_INTENT_POLL_INTERVAL_MS))}var t;return(t=[{key:"_checkLocalStorage",value:function(){var e;this.localStorage.isAvailable()&&(e=this.localStorage.getItemWithExpiration(this.storageConfig.LIVE_INTENT),e=Object(o.q)(e)?JSON.parse(e):void 0,Object(o.p)(e)&&(Object(o.s)(this.invocationId,"Retrieved LiveIntent ID from local storage"),this._setLiveIntentId(e)))}},{key:"_onDetected",value:function(){var e=this;Object(o.s)(this.invocationId,"Detected LiveIntent API on the page! Requesting their ID.");var t=Object(o.e)(this._windowObj,"liQ.resolve");if(Object(o.l)(t))try{t(function(t){Object(o.s)(e.invocationId,"Received LiveIntent API `resolve` lookup response",t),t.unifiedId&&e._setLiveIntentIdFromResponse(t.unifiedId,Date.now())})}catch(t){Object(o.r)("Error caught while calling resolve() on LiveIntent API",t)}}},{key:"_setLiveIntentIdFromResponse",value:function(e,t){t={liveIntentId:e,timestamp:t},this.localStorage.setItemWithExpiration(this.storageConfig.LIVE_INTENT,JSON.stringify(t)),this._setLiveIntentId(t)}},{key:"_setLiveIntentId",value:function(e){Object(o.s)(self.invocationId,"Received LiveIntent ID",e),this._liveIntentId=e.liveIntentId,this._liveIntentIdTimestamp=e.timestamp,this._hasLiveIntentId=!0}},{key:"getLiveIntentId",value:function(){return this.isEnabled?this._liveIntentId:void 0}},{key:"hasLiveIntentId",value:function(){return this.isEnabled&&this._hasLiveIntentId}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n=n(9),window.ID5||(window.ID5=n.a)},function(e,t,n){var r=n(0),o=n(10),i=n(5),a=n(2),s=n(11),c=n(12),u=n(3),l=n(6),f=n(7),h=n(13);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="https://id5-sync.com";n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"loaded",!1),v(this,"_isUsingCdn",!1),v(this,"_referer",!1),v(this,"_version",c.a),v(this,"versions",{}),v(this,"invocationId",0),this.loaded=!0,this._isUsingCdn=!!(document&&document.currentScript&&document.currentScript.src&&0===document.currentScript.src.indexOf("https://cdn.id5-sync.com")),this._referer=Object(o.a)(),this.versions[c.a]=!0}var t;return(t=[{key:"debug",get:function(){return Object(r.m)()},set:function(e){Object(r.w)(e)}},{key:"init",value:function(e){var t=this.invocationId;this.invocationId+=1;try{Object(r.s)(t,"ID5 API version ".concat(this._version,". Invoking init()"),e);var n=new l.a(t,e),o=n.getOptions(),c=new u.a(window.top,!o.applyCreativeRestrictions),h=new f.a(window,!o.disableLiveIntentIntegration,t,c,n.storageConfig),d=new a.b(t,c,n.storageConfig),p=new i.a(t,function(){return d.localStorageGrant(o.allowLocalStorageWithoutConsentApi,o.debugBypassConsent)},c,n.storageConfig),v=new s.a(t,n,p,d,h);return this.getId(v,!1),Object(r.s)(t,"ID5 initialized for partner ".concat(o.partnerId," with referer ").concat(this._referer.referer," and options"),e),v}catch(e){Object(r.r)(t,"Exception caught during init()",e)}}},{key:"refreshId",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!Object(r.j)(t))throw new Error("Invalid signature for refreshId(): second parameter must be a boolean");try{Object(r.s)(e.invocationId,"Invoking refreshId()",arguments),e.startRefresh(t),e.updateOptions(n),e.consentManagement.resetConsentData(),this.getId(e,t)}catch(t){Object(r.r)(e.invocationId,"Exception caught from refreshId()",t)}return e}},{key:"getId",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Object(r.k)(window.navigator.userAgentData)&&!e.getOptions().disableUaHints?this.gatherUaHints().then(function(o){return t.getIdWithUaHints(e,Object(r.f)(o),n)}).catch(function(o){Object(r.r)("Error while calling navigator.userAgentData.getHighEntropyValues()",o),t.getIdWithUaHints(e,void 0,n)}):this.getIdWithUaHints(e,void 0,n)}},{key:"getIdWithUaHints",value:function(e,t,n){var o,i,a=this,s=e.getOptions(),c=0,u=!1,l=!1,f=!1,d=!1,p=e.localStorageGrant();p.isDefinitivelyAllowed()&&(Object(r.s)(e.invocationId,"Using local storage for cached ID",p),o=e.clientStore.getResponse(),i=e.clientStore.getDateTime(),u=i<=0||Date.now()-i>1e3*s.refreshInSeconds,c=e.clientStore.getNb(s.partnerId),l=!e.clientStore.storedPdMatchesPd(s.partnerId,s.pd),f=!e.clientStore.storedSegmentsMatchesSegments(s.partnerId,s.segments)),o||(Object(r.s)(e.invocationId,"No cached ID found"),o=e.clientStore.getResponseFromLegacyCookie(),u=!0),o&&o.universal_uid&&!l&&!f?(Object(r.s)(e.invocationId,"ID5 User ID available from cache:",{storedResponse:o,storedDateTime:i,refreshNeeded:u}),i<=0||12096e5<Date.now()-i||(e.setUserId(o,!0),c=e.clientStore.incNb(s.partnerId,c),d=!0)):o&&o.universal_uid&&l?Object(r.s)(e.invocationId,"PD value has changed, so ignoring User ID from cache"):o&&o.universal_uid&&f?Object(r.s)(e.invocationId,"Segments have changed, so ignoring User ID from cache"):o&&!o.universal_uid?Object(r.r)(e.invocationId,"Invalid stored response: ",o):Object(r.s)(e.invocationId,"No ID5 User ID available from cache"),e.consentManagement.requestConsent(s.debugBypassConsent,s.cmpApi,s.consentData,function(i){var p,v,g=e.localStorageGrant();Object(r.s)(e.invocationId,"Local storage grant",g),g.allowed?(o=e.clientStore.getResponse()||e.clientStore.getResponseFromLegacyCookie(),p=!e.clientStore.storedConsentDataMatchesConsentData(i),e.clientStore.putHashedConsentData(i),e.clientStore.putHashedPd(s.partnerId,s.pd),e.clientStore.putHashedSegments(s.partnerId,s.segments),((g=!o||!o.universal_uid||!o.signature)||u||p||l||f||n)&&(Object(r.s)(e.invocationId,"Decided to fetch a fresh ID5 ID",{missingStoredData:g,refreshInSecondsHasElapsed:u,consentHasChanged:p,pdHasChanged:l,segmentsHaveChanged:f,forceFetch:n}),v=a.gatherData(s,e,c,i,o,t),h.a.gather(e.invocationId).then(function(t){v.extensions=t,a.fetchFreshID5ID(v,s,i,e,n,d)}))):Object(r.s)(e.invocationId,"No legal basis to use ID5",i)})}},{key:"gatherData",value:function(e,t,n,o,i,a){var s={partner:e.partnerId,v:this._version,o:"api",gdpr:o.gdprApplies?1:0,rf:this._referer.referer,u:this._referer.stack[0]||window.location.href,top:this._referer.reachedTop?1:0,localStorage:t.clientStore.isLocalStorageAvailable()?1:0,nbPage:n,id5cdn:this._isUsingCdn,ua:window.navigator.userAgent};return n=o.gdprApplies?o.consentString:void 0,Object(r.k)(n)&&(s.gdpr_consent=n),Object(r.k)(o.allowedVendors)&&(s.allowed_vendors=o.allowedVendors),i=i&&i.signature?i.signature:void 0,Object(r.k)(i)&&(s.s=i),Object(r.k)(a)&&(s.ua_hints=a),o.hasCcpaString&&(s.us_privacy=o.ccpaString),t.liveIntentApi.hasLiveIntentId()&&(s.li=t.liveIntentApi.getLiveIntentId()),Object(r.u)({pd:"pd",partnerUserId:"puid",provider:"provider",segments:"segments"}).forEach(function(t){t=(n=d(t,2))[0];var n=n[1];Object(r.k)(e[t])&&(s[n]=e[t])}),!0===e.abTesting.enabled&&(s.ab_testing={enabled:!0,control_group_pct:t.getOptions().abTesting.controlGroupPct}),0<t.getInvalidSegments()&&(s._invalid_segments=t.getInvalidSegments()),Object(r.n)()&&(s._trace=!0),s}},{key:"fetchFreshID5ID",value:function(e,t,n,o,i,a){var s="".concat(g,"/g/v2/").concat(t.partnerId,".json");Object(r.s)(o.invocationId,"Fetching ID5 ID (forceFetch:".concat(i,") from:"),s,e),Object(r.a)(s,{success:this.handleSuccessfulFetchResponse(o,t,a,n),error:function(e){Object(r.r)(o.invocationId,"Error during AJAX request to ID5 server",e)}},JSON.stringify(e),{method:"POST",withCredentials:!0})}},{key:"handleSuccessfulFetchResponse",value:function(e,t,n,o){var i=this;return function(a){var s=i.validateResponseIsCorrectJson(a,e,"fetch");if(s)if(Object(r.q)(s.universal_uid)){Object(r.s)(e.invocationId,"Valid json response from ID5 received",s);try{e.setUserId(s,!1),e.consentManagement.setStoredPrivacy(s.privacy);var c,u,l,f=e.localStorageGrant();f.isDefinitivelyAllowed()?(Object(r.s)(e.invocationId,"Storing ID in cache"),e.clientStore.putResponse(a),e.clientStore.setDateTime((new Date).toUTCString()),e.clientStore.setNb(t.partnerId,n?0:1)):(Object(r.s)(e.invocationId,"Cannot use local storage to cache ID",f),e.clientStore.clearAll(t.partnerId)),e.clientStore.removeLegacyCookies(t.partnerId),!0===s.cascade_needed&&f.isDefinitivelyAllowed()&&0<=t.maxCascades&&!t.applyCreativeRestrictions&&(c=t.partnerUserId&&0<t.partnerUserId.length,u=o.gdprApplies?o.consentString:void 0,l="".concat(g,"/").concat(c?"s":"i","/").concat(t.partnerId,"/").concat(t.maxCascades,".gif?id5id=").concat(e._userId,"&o=api&").concat(c?"puid="+t.partnerUserId+"&":"","gdpr_consent=").concat(u,"&gdpr=").concat(o.gdprApplies),Object(r.s)(e.invocationId,"Opportunities to cascade available",l),Object(r.d)(l))}catch(a){Object(r.r)(e.invocationId,"Error during processing of valid ID5 server response",s,a)}}else Object(r.r)(e.invocationId,"Server response failed to validate",s)}}},{key:"validateResponseIsCorrectJson",value:function(e,t,n){if(!e||!Object(r.q)(e)||e.length<1)Object(r.r)(t.invocationId,"Empty ".concat(n,' response from ID5 servers: "').concat(e,'"'));else try{return JSON.parse(e)}catch(o){Object(r.r)(t.invocationId,"Cannot parse the JSON server ".concat(n," response"),e)}return null}},{key:"gatherUaHints",value:function(){return window.navigator.userAgentData.getHighEntropyValues(["architecture","fullVersionList","model","platformVersion"])}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()),t.a=n},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}n.d(t,"a",function(){return i});var o,i=(o=window,function(){try{var e,t=a(),n=t.length-1,r=null!==t[n].location||0<n&&null!==t[n-1].referrer,o=function(e){for(var t,n=[],r=null,o=null,i=null,a=null,s=e.length-1;0<=s;s--){try{r=e[s].location}catch(e){}if(r)n.push(r),a=a||r;else if(0!==s){t=e[s-1];try{o=t.referrer,i=t.ancestor}catch(e){}o?(n.push(o),a=a||o):i?(n.push(i),a=a||i):n.push(null)}else n.push(null)}return{stack:n,detectedRefererUrl:a}}(t);return t[t.length-1].canonicalUrl&&(e=t[t.length-1].canonicalUrl),{referer:o.detectedRefererUrl,reachedTop:r,numIframes:n,stack:o.stack,canonicalUrl:e}}catch(e){}});function a(){var e=function(){var e,t=[];do{try{e=e?e.parent:o;try{var n=e===o.top,i={referrer:e.document.referrer||null,location:e.location.href||null,isTop:n};n&&(i=r(i,{canonicalUrl:function(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}(e.document)})),t.push(i)}catch(n){t.push({referrer:null,location:null,isTop:e===o.top})}}catch(n){return t.push({referrer:null,location:null,isTop:!1}),t}}while(e!==o.top);return t}(),t=function(){try{return o.location.ancestorOrigins?o.location.ancestorOrigins:void 0}catch(e){}}();if(t)for(var n=0,i=t.length;n<i;n++)e[n].ancestor=t[n];return e}},function(e,t,n){n.d(t,"a",function(){return s}),t=n(1);var r=n.n(t),o=n(0);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(6),n(5),n(2),n(7);var s=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_availableCallbackTimerId",void 0),a(this,"_availableCallbackFired",!1),a(this,"_availableCallback",void 0),a(this,"_updateCallback",void 0),a(this,"_refreshCallbackTimerId",void 0),a(this,"_refreshCallbackFired",!1),a(this,"_refreshCallback",void 0),a(this,"_isExposed",void 0),a(this,"_fromCache",void 0),a(this,"_isRefreshing",!1),a(this,"_isRefreshingWithFetch",!1),a(this,"_userId",void 0),a(this,"_linkType",void 0),a(this,"_userIdAvailable",!1),a(this,"invocationId",void 0),a(this,"config",void 0),a(this,"clientStore",void 0),a(this,"consentManagement",void 0),a(this,"liveIntentApi",void 0),this.invocationId=t,this.config=n,this.clientStore=r,this.consentManagement=o,this.liveIntentApi=i}var t,n,s;return t=e,s=[{key:"doFireOnAvailableCallBack",value:function(e){Object(o.s)(e.invocationId,"Id5Status.doFireOnAvailableCallBack"),e._availableCallbackFired=!0,e._availableCallbackTimerId=void 0,e._availableCallback(e)}},{key:"doFireOnUpdateCallBack",value:function(e){Object(o.s)(e.invocationId,"Id5Status.doFireOnUpdateCallBack"),e._updateCallback(e)}},{key:"doFireOnRefreshCallBack",value:function(e){Object(o.s)(e.invocationId,"Id5Status.doFireOnRefreshCallBack"),e._refreshCallbackFired=!0,e._refreshCallbackTimerId=void 0,e._isRefreshing=!1,e._isRefreshingWithFetch=!1,e._refreshCallback(e)}}],(n=[{key:"getOptions",value:function(){return this.config.getOptions()}},{key:"getInvalidSegments",value:function(){return this.config.getInvalidSegments()}},{key:"updateOptions",value:function(e){return this.config.updOptions(e)}},{key:"startRefresh",value:function(e){this._isRefreshing=!0,this._isRefreshingWithFetch=e}},{key:"setUserId",value:function(t,n){var r=this,i=t.universal_uid,a=t.link_type||0;if(this._isExposed=!0,Object(o.p)(t.ab_testing))switch(t.ab_testing.result){case"normal":break;default:case"error":Object(o.r)(this.invocationId,"Id5Status: There was an error with A/B Testing. Make sure controlGroupRatio is a number >= 0 and <= 1");break;case"control":this._isExposed=!1,this.info("User is in control group!")}t=this._userId!==i||this._linkType!==a,this._userIdAvailable=!0,this._userId=i,this._linkType=a,this._fromCache=n,this.info("User id updated, hasChanged: ".concat(t,", fromCache: ").concat(n)),Object(o.l)(this._availableCallback)&&!1===this._availableCallbackFired&&(this._availableCallbackTimerId&&(this.info("Cancelling pending onAvailableCallback watchdog"),clearTimeout(this._availableCallbackTimerId),this._availableCallbackTimerId=void 0),this._availableCallbackTimerId=setTimeout(function(){return e.doFireOnAvailableCallBack(r)},0)),this._isRefreshing&&Object(o.l)(this._refreshCallback)&&!1===this._refreshCallbackFired&&(!1!==n&&!1!==this._isRefreshingWithFetch||(this._refreshCallbackTimerId&&(this.info("Cancelling pending onRefreshCallback watchdog"),clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallbackTimerId=setTimeout(function(){return e.doFireOnRefreshCallBack(r)},0))),t&&Object(o.l)(this._updateCallback)&&setTimeout(function(){return e.doFireOnUpdateCallBack(r)},0)}},{key:"getUserId",value:function(){return!1===this._isExposed?"0":this._userId}},{key:"getLinkType",value:function(){return!1===this._isExposed?0:this._linkType}},{key:"isFromCache",value:function(){return this._fromCache}},{key:"exposeUserId",value:function(){return this._isExposed}},{key:"getUserIdAsEid",value:function(){return{source:r.a.ID5_EIDS_SOURCE,uids:[{atype:1,id:this.getUserId(),ext:{linkType:this.getLinkType(),abTestingControlGroup:!this.exposeUserId()}}]}}},{key:"onAvailable",value:function(t,n){if(!Object(o.l)(t))throw new Error("onAvailable expect a function");var r;return Object(o.l)(this._availableCallback)?this.info("onAvailable was already called, ignoring"):(this._availableCallback=t,(r=this)._userIdAvailable?(this.info("User id already available firing callback immediately"),this._availableCallbackTimerId=setTimeout(function(){return e.doFireOnAvailableCallBack(r)},0)):0<n&&(this._availableCallbackTimerId=setTimeout(function(){return e.doFireOnAvailableCallBack(r)},n))),this}},{key:"onUpdate",value:function(t){if(!Object(o.l)(t))throw new Error("onUpdate expect a function");this._updateCallback=t;var n=this;return this._userIdAvailable&&setTimeout(function(){return e.doFireOnUpdateCallBack(n)},0),this}},{key:"onRefresh",value:function(t,n){if(!Object(o.l)(t))throw new Error("onRefresh expect a function");this._refreshCallbackTimerId&&(clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallback=t;var r=this;return!0===this._isRefreshing&&!1===this._isRefreshingWithFetch&&this._userIdAvailable?this._refreshCallbackTimerId=setTimeout(function(){return e.doFireOnRefreshCallBack(r)},0):0<n&&(this._refreshCallbackTimerId=setTimeout(function(){return e.doFireOnRefreshCallBack(r)},n)),this}},{key:"localStorageGrant",value:function(){return this.clientStore.localStorageGrant()}},{key:"info",value:function(e){Object(o.s)(this.invocationId,"Id5Status: "+e)}}])&&i(t.prototype,n),s&&i(t,s),e}()},function(e,t,n){n.d(t,"a",function(){return r});var r="1.0.22"},function(e,t,n){var r=n(0),o=n(14);function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,o;t=n[o=t],o in(r=e)?Object.defineProperty(r,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[o]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"gather",value:function(e){function t(t,i){return new o.a(function(o){Object(r.a)(t,{success:function(i){i=function(t,o){try{return JSON.parse(o)}catch(i){return Object(r.r)(e,"Cannot parse the JSON  response from: ".concat(t),o),n}}(t,i),o(i)},error:function(e){Object(r.t)(i,"Got error from ".concat(t," endpoint"),e),o(n)}},null)})}var n={lbCDN:"%%LB_CDN%%"};return o.a.allSettled([t("https://lb.eu-1-id5-sync.com/lb/v1",e),t("https://lbs.eu-1-id5-sync.com/lbs/v1",e)]).then(function(e){var t=n;return e.forEach(function(e){e.value&&(t=a(a({},t),e.value))}),t}).catch(function(t){return Object(r.r)(e,"Got error ".concat(t," when gathering extensions data")),n})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()),t.a=n},function(e,t,n){(function(e){var r,o=n(15),i=void 0!==(r=void 0!==e?e:window)&&void 0!==r.Promise?r.Promise:o.a;t.a=i}).call(t,n(4))},function(e,t,n){(function(e){var r=n(19),o=n(20),i=setTimeout;function a(e){return Boolean(e&&void 0!==e.length)}function s(){}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn(function(){var n,r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){try{n=r(e._value)}catch(n){return void f(t.promise,n)}l(t.promise,n)}else(1===e._state?l:f)(t.promise,e._value)})):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void h(e);if("function"==typeof n)return void p((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,h(e)}catch(t){f(e,t)}var r,o}function f(e,t){e._state=2,e._value=t,h(e)}function h(e){2===e._state&&0===e._deferreds.length&&c._immediateFn(function(){e._handled||c._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,f(t,e))})}catch(e){if(n)return;n=!0,f(t,e)}}c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(s);return u(this,new d(e,t,n)),n},c.prototype.finally=r.a,c.all=function(e){return new c(function(t,n){if(!a(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var o=r.length,i=0;i<r.length;i++)!function e(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){e(i,t)},n)}r[i]=a,0==--o&&t(r)}catch(a){n(a)}}(i,r[i])})},c.allSettled=o.a,c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.race=function(e){return new c(function(t,n){if(!a(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)c.resolve(e[r]).then(t,n)})},c._immediateFn="function"==typeof e?function(t){e(t)}:function(e){i(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=c}).call(t,n(16).setImmediate)},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(17),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(4))},function(e,t,n){(function(e,t){!function(e,n){var r,o,i,a,s,c,u,l;function f(e){delete o[e]}function h(e){if(i)setTimeout(h,0,e);else{var t=o[e];if(t){i=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),i=!1}}}}e.setImmediate||(r=1,i=!(o={}),a=e.document,l=(l=Object.getPrototypeOf&&Object.getPrototypeOf(e))&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?s=function(e){t.nextTick(function(){h(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){function t(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(n)&&h(+t.data.slice(n.length))}var n="setImmediate$"+Math.random()+"$";e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),s=function(t){e.postMessage(n+t,"*")}}():s=e.MessageChannel?((u=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){u.port2.postMessage(e)}):a&&"onreadystatechange"in a.createElement("script")?(c=a.documentElement,function(e){var t=a.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,c.removeChild(t),t=null},c.appendChild(t)}):function(e){setTimeout(h,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return o[r]={callback:e,args:t},s(r),r++},l.clearImmediate=f)}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(4),n(18))},function(e,t){var n,r;function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}e=e.exports={},function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var s,c=[],u=!1,l=-1;function f(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||u||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){t.a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}},function(e,t,n){t.a=function(e){return new this(function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var o=r.length,i=0;i<r.length;i++)!function e(n,i){if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if("function"==typeof a)return void a.call(i,function(t){e(n,t)},function(e){r[n]={status:"rejected",reason:e},0==--o&&t(r)})}r[n]={status:"fulfilled",value:i},0==--o&&t(r)}(i,r[i])})}}]);var Ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};let Te=!1,ke=!1;const Ne={debug:1,default:2,info:2,warning:3,error:4,off:5};let je=Ne.default,De=null;const Re=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Pe,Ue;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Pe||(Pe={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(Ue||(Ue={}));const xe="0123456789abcdef";class Le{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==Ne[n]&&this.throwArgumentError("invalid log level name","logLevel",e),je>Ne[n]||console.log.apply(console,t)}debug(...e){this._log(Le.levels.DEBUG,e)}info(...e){this._log(Le.levels.INFO,e)}warn(...e){this._log(Le.levels.WARNING,e)}makeError(e,t,n){if(ke)return this.makeError("censored error",t,{});t||(t=Le.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach(e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=xe[t[e]>>4],n+=xe[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(t){r.push(e+"="+JSON.stringify(n[e].toString()))}}),r.push(`code=${t}`),r.push(`version=${this.version}`);const o=e;let i="";switch(t){case Ue.NUMERIC_FAULT:{i="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":i+="-"+t;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result"}break}case Ue.CALL_EXCEPTION:case Ue.INSUFFICIENT_FUNDS:case Ue.MISSING_NEW:case Ue.NONCE_EXPIRED:case Ue.REPLACEMENT_UNDERPRICED:case Ue.TRANSACTION_REPLACED:case Ue.UNPREDICTABLE_GAS_LIMIT:i=t}i&&(e+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=t,Object.keys(n).forEach(function(e){a[e]=n[e]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Le.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){Re&&this.throwError("platform missing String.prototype.normalize",Le.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Re})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,Le.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Le.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Le.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Le.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Le.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return De||(De=new Le("logger/5.7.0")),De}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Te){if(!e)return;this.globalLogger().throwError("error censorship permanent",Le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ke=!!e,Te=!!t}static setLogLevel(e){const t=Ne[e.toLowerCase()];null!=t?je=t:Le.globalLogger().warn("invalid log level - "+e)}static from(e){return new Le(e)}}Le.errors=Ue,Le.levels=Pe;const Fe=new Le("bytes/5.7.0");function Be(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Be(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Me(e){return"number"==typeof e&&e==e&&e%1==0}function Ve(e,t){if(t||(t={}),"number"==typeof e){Fe.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Be(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))}(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":Fe.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return Be(new Uint8Array(r))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!Me(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!Me(n)||n<0||n>=256)return!1}return!0}(e)?Be(new Uint8Array(e)):Fe.throwArgumentError("invalid arrayify value","value",e)}var Ge,He,We=(Ge=function(e){!function(){var t="input is invalid type",n="object"==typeof window,r=n?window:{};r.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?r=Ae:o&&(r=self);var i=!r.JS_SHA3_NO_COMMON_JS&&e.exports,a=!r.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),c=[4,1024,262144,67108864],u=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],h=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!r.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!a||!r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var v=function(e,t,n){return function(r){return new N(e,t,e).update(r)[n]()}},g=function(e,t,n){return function(r,o){return new N(e,t,o).update(r)[n]()}},m=function(e,t,n){return function(t,r,o,i){return w["cshake"+e].update(t,r,o,i)[n]()}},b=function(e,t,n){return function(t,r,o,i){return w["kmac"+e].update(t,r,o,i)[n]()}},y=function(e,t,n,r){for(var o=0;o<d.length;++o){var i=d[o];e[i]=t(n,r,i)}return e},O=function(e,t){var n=v(e,t,"hex");return n.create=function(){return new N(e,t,e)},n.update=function(e){return n.create().update(e)},y(n,v,e,t)},I=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:O},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:O},{name:"shake",padding:[31,7936,2031616,520093696],bits:h,createMethod:function(e,t){var n=g(e,t,"hex");return n.create=function(n){return new N(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},y(n,g,e,t)}},{name:"cshake",padding:c,bits:h,createMethod:function(e,t){var n=p[e],r=m(e,0,"hex");return r.create=function(r,o,i){return o||i?new N(e,t,r).bytepad([o,i],n):w["shake"+e].create(r)},r.update=function(e,t,n,o){return r.create(t,n,o).update(e)},y(r,m,e,t)}},{name:"kmac",padding:c,bits:h,createMethod:function(e,t){var n=p[e],r=b(e,0,"hex");return r.create=function(r,o,i){return new j(e,t,o).bytepad(["KMAC",i],n).bytepad([r],n)},r.update=function(e,t,n,o){return r.create(e,n,o).update(t)},y(r,b,e,t)}}],w={},E=[],C=0;C<I.length;++C)for(var _=I[C],S=_.bits,A=0;A<S.length;++A){var T=_.name+"_"+S[A];if(E.push(T),w[T]=_.createMethod(S[A],_.padding),"sha3"!==_.name){var k=_.name+S[A];E.push(k),w[k]=w[T]}}function N(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function j(e,t,n){N.call(this,e,t,n)}N.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var n,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(t);if(null===e)throw new Error(t);if(a&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||a&&ArrayBuffer.isView(e)))throw new Error(t);n=!0}for(var o,i,s=this.blocks,c=this.byteCount,l=e.length,f=this.blockCount,h=0,d=this.s;h<l;){if(this.reset)for(this.reset=!1,s[0]=this.block,o=1;o<f+1;++o)s[o]=0;if(n)for(o=this.start;h<l&&o<c;++h)s[o>>2]|=e[h]<<u[3&o++];else for(o=this.start;h<l&&o<c;++h)(i=e.charCodeAt(h))<128?s[o>>2]|=i<<u[3&o++]:i<2048?(s[o>>2]|=(192|i>>6)<<u[3&o++],s[o>>2]|=(128|63&i)<<u[3&o++]):i<55296||i>=57344?(s[o>>2]|=(224|i>>12)<<u[3&o++],s[o>>2]|=(128|i>>6&63)<<u[3&o++],s[o>>2]|=(128|63&i)<<u[3&o++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++h)),s[o>>2]|=(240|i>>18)<<u[3&o++],s[o>>2]|=(128|i>>12&63)<<u[3&o++],s[o>>2]|=(128|i>>6&63)<<u[3&o++],s[o>>2]|=(128|63&i)<<u[3&o++]);if(this.lastByteIndex=o,o>=c){for(this.start=o-c,this.block=s[f],o=0;o<f;++o)d[o]^=s[o];D(d),this.reset=!0}else this.start=o}return this},N.prototype.encode=function(e,t){var n=255&e,r=1,o=[n];for(n=255&(e>>=8);n>0;)o.unshift(n),n=255&(e>>=8),++r;return t?o.push(r):o.unshift(r),this.update(o),o.length},N.prototype.encodeString=function(e){var n,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(t);if(null===e)throw new Error(t);if(a&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||a&&ArrayBuffer.isView(e)))throw new Error(t);n=!0}var o=0;if(n)o=e.length;else for(var i=0;i<e.length;++i){var s=e.charCodeAt(i);s<128?o+=1:s<2048?o+=2:s<55296||s>=57344?o+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++i)),o+=4)}return o+=this.encode(8*o),this.update(e),o},N.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var o=[];return o.length=t-n%t,this.update(o),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];D(r)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,a=0,c="";a<r;){for(i=0;i<t&&a<r;++i,++a)c+=s[(e=n[i])>>4&15]+s[15&e]+s[e>>12&15]+s[e>>8&15]+s[e>>20&15]+s[e>>16&15]+s[e>>28&15]+s[e>>24&15];a%t==0&&(D(n),i=0)}return o&&(c+=s[(e=n[i])>>4&15]+s[15&e],o>1&&(c+=s[e>>12&15]+s[e>>8&15]),o>2&&(c+=s[e>>20&15]+s[e>>16&15])),c},N.prototype.buffer=N.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,a=0,s=this.outputBits>>3;e=o?new ArrayBuffer(r+1<<2):new ArrayBuffer(s);for(var c=new Uint32Array(e);a<r;){for(i=0;i<t&&a<r;++i,++a)c[a]=n[i];a%t==0&&D(n)}return o&&(c[i]=n[i],e=e.slice(0,s)),e},N.prototype.digest=N.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,o=this.outputBlocks,i=this.extraBytes,a=0,s=0,c=[];s<o;){for(a=0;a<n&&s<o;++a,++s)c[e=s<<2]=255&(t=r[a]),c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;s%n==0&&D(r)}return i&&(c[e=s<<2]=255&(t=r[a]),i>1&&(c[e+1]=t>>8&255),i>2&&(c[e+2]=t>>16&255)),c},(j.prototype=new N).finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var D=function(e){var t,n,r,o,i,a,s,c,u,f,h,d,p,v,g,m,b,y,O,I,w,E,C,_,S,A,T,k,N,j,D,R,P,U,x,L,F,B,M,V,G,H,W,z,J,q,K,X,$,Y,Q,Z,ee,te,ne,re,oe,ie,ae,se,ce,ue,le;for(r=0;r<48;r+=2)o=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^((s=e[3]^e[13]^e[23]^e[33]^e[43])<<1|(a=e[2]^e[12]^e[22]^e[32]^e[42])>>>31),e[0]^=t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|s>>>31),e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,n=i^(u<<1|c>>>31),e[2]^=t=o^(c<<1|u>>>31),e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,n=s^(h<<1|f>>>31),e[4]^=t=a^(f<<1|h>>>31),e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,n=u^(p<<1|d>>>31),e[6]^=t=c^(d<<1|p>>>31),e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,n=h^(i<<1|o>>>31),e[8]^=t=f^(o<<1|i>>>31),e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,g=e[1],q=e[11]<<4|e[10]>>>28,K=e[10]<<4|e[11]>>>28,k=e[20]<<3|e[21]>>>29,N=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,W=e[41]<<18|e[40]>>>14,U=e[2]<<1|e[3]>>>31,x=e[3]<<1|e[2]>>>31,b=e[12]<<12|e[13]>>>20,X=e[22]<<10|e[23]>>>22,$=e[23]<<10|e[22]>>>22,j=e[33]<<13|e[32]>>>19,D=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,O=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,R=e[45]<<29|e[44]>>>3,P=e[44]<<29|e[45]>>>3,_=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,oe=e[16]<<23|e[17]>>>9,B=e[26]<<25|e[27]>>>7,M=e[27]<<25|e[26]>>>7,I=e[36]<<21|e[37]>>>11,w=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,J=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,T=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,V=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,E=e[48]<<14|e[49]>>>18,C=e[49]<<14|e[48]>>>18,e[0]=(v=e[0])^~(m=e[13]<<12|e[12]>>>20)&(y=e[25]<<11|e[24]>>>21),e[1]=g^~b&O,e[10]=_^~A&k,e[11]=S^~T&N,e[20]=U^~L&B,e[21]=x^~F&M,e[30]=z^~q&X,e[31]=J^~K&$,e[40]=te^~re&ie,e[41]=ne^~oe&ae,e[2]=m^~y&I,e[3]=b^~O&w,e[12]=A^~k&j,e[13]=T^~N&D,e[22]=L^~B&V,e[23]=F^~M&G,e[32]=q^~X&Y,e[33]=K^~$&Q,e[42]=re^~ie&se,e[43]=oe^~ae&ce,e[4]=y^~I&E,e[5]=O^~w&C,e[14]=k^~j&R,e[15]=N^~D&P,e[24]=B^~V&H,e[25]=M^~G&W,e[34]=X^~Y&Z,e[35]=$^~Q&ee,e[44]=ie^~se&ue,e[45]=ae^~ce&le,e[6]=I^~E&v,e[7]=w^~C&g,e[16]=j^~R&_,e[17]=D^~P&S,e[26]=V^~H&U,e[27]=G^~W&x,e[36]=Y^~Z&z,e[37]=Q^~ee&J,e[46]=se^~ue&te,e[47]=ce^~le&ne,e[8]=E^~v&m,e[9]=C^~g&b,e[18]=R^~_&A,e[19]=P^~S&T,e[28]=H^~U&L,e[29]=W^~x&F,e[38]=Z^~z&q,e[39]=ee^~J&K,e[48]=ue^~te&re,e[49]=le^~ne&oe,e[0]^=l[r],e[1]^=l[r+1]};if(i)e.exports=w;else for(C=0;C<E.length;++C)r[E[C]]=w[E[C]]}()},Ge(He={exports:{}}),He.exports);const ze=new Le("strings/5.7.0");var Je,qe;function Ke(e,t,n,r,o){if(e===qe.BAD_PREFIX||e===qe.UNEXPECTED_CONTINUE){let e=0;for(let r=t+1;r<n.length&&n[r]>>6==2;r++)e++;return e}return e===qe.OVERRUN?n.length-t-1:0}function Xe(e){this.message=e}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Je||(Je={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(qe||(qe={})),Object.freeze({error:function(e,t,n,r,o){return ze.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:Ke,replace:function(e,t,n,r,o){return e===qe.OVERLONG?(r.push(o),0):(r.push(65533),Ke(e,t,n))}}),(Xe.prototype=new Error).name="InvalidCharacterError";var $e="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Xe("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,i=0,a="";r=t.charAt(i++);~r&&(n=o%4?64*n+r:r,o++%4)?a+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function Ye(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent($e(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(e){return $e(t)}}function Qe(e){this.message=e}function Ze(e,t){if("string"!=typeof e)throw new Qe("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(Ye(e.split(".")[n]))}catch(e){throw new Qe("Invalid token specified: "+e.message)}}function et(e,t,n){if(!e.s){if(n instanceof tt){if(!n.s)return void(n.o=et.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(et.bind(null,e,t),et.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}(Qe.prototype=new Error).name="InvalidTokenError";var tt=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{et(r,1,i(this.v))}catch(e){et(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?et(r,1,t?t(o):o):n?et(r,1,n(o)):et(r,2,o)}catch(e){et(r,2,e)}},r},e}();function nt(e){return e instanceof tt&&1&e.s}var rt=function(e,t){try{if(void 0===e||"string"!=typeof e)return Promise.resolve({result:"",status:{errorCode:st.ADDRESS,reason:"bcaWeb3Connect: No address provided to bcaWeb3Connect library argument"}});var n=Math.floor(Date.now()/1e3),r=Se.get(it);if(r){var o=function(e){try{return{result:Ze(e),status:at}}catch(e){return{result:"",status:{errorCode:st.GENERIC,reason:""+e}}}}(r);if(o.status==at){if(!(o.result.exp+3600<n))return Promise.resolve({result:r,status:at});Se.remove(it)}else Se.remove(it)}return Promise.resolve(ID5.init({partnerId:1238})).then(function(t){return Promise.resolve(t.onAvailable(function(e){return e.getUserId()})).then(function(t){var n=((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""))(32),r=[Ce.get("https://www.cloudflare.com/cdn-cgi/trace").then(function(e){return t=function(e,t=Je.current){t!=Je.current&&(ze.checkNormalize(),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const o=e.charCodeAt(t);if(t>=e.length||56320!=(64512&o))throw new Error("invalid utf-8 string");const i=65536+((1023&r)<<10)+(1023&o);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(63&i|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return Ve(n)}(""+e.data.match(/[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}/)[0]),"0x"+We.keccak_256(Ve(t));var t}).catch(function(e){console.error("bcaWeb3Connect getHashIP error >>> ",e)}),ot(t)];return Promise.resolve(Promise.all(r).then(function(e){return{result:e,status:at}}).catch(function(e){return{result:"",status:{errorCode:st.PROMISE_ALL,reason:""+e}}})).then(function(t){if(t.status!=at)return t;var r={uuid:""+n,hashIp:""+t.result[0],id5DeviceId:""+t.result[1],address:e,hostname:window.location.hostname};return Promise.resolve(Ce.post("https://us-central1-web3-cookie.cloudfunctions.net/signup",{dataPackage:r}).then(function(e){var t=e.data.token;return Se.set(it,t,{expires:365}),window.localStorage.setItem(it,t),{result:t,status:at}}).catch(function(e){return{result:"",status:{errorCode:st.SIGNUP,reason:""+e}}}))})})})}catch(e){return Promise.reject(e)}},ot=function(e){try{return Promise.resolve(new Promise(function(t,n){try{var r=function(){t(e._userId)},o=function(e,t,n){for(var r;;){var o=e();if(nt(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!nt(i)){r=1;break}i=i.s}}var a=new tt,s=et.bind(null,a,2);return(0===r?o.then(u):1===r?i.then(c):(void 0).then(function(){(o=e())?o.then?o.then(u).then(void 0,s):u(o):et(a,1,i)})).then(void 0,s),a;function c(t){i=t;do{if(!(o=e())||nt(o)&&!o.v)return void et(a,1,i);if(o.then)return void o.then(u).then(void 0,s);nt(i=n())&&(i=i.v)}while(!i||!i.then);i.then(c).then(void 0,s)}function u(e){e?(i=n())&&i.then?i.then(c).then(void 0,s):c(i):et(a,1,i)}}(function(){return null==e._userId},0,function(){return Promise.resolve(new Promise(function(e){return setTimeout(e,300)})).then(function(){})});return Promise.resolve(o&&o.then?o.then(r):r())}catch(e){return Promise.reject(e)}}))}catch(e){return Promise.reject(e)}},it="BCA-universal-cookie",at="OK",st={ADDRESS:1,GENERIC:2,PROMISE_ALL:3,SIGNUP:4},ct={bcaWeb3Connect:rt};export{rt as bcaWeb3Connect,ct as default};
//# sourceMappingURL=index.module.js.map
